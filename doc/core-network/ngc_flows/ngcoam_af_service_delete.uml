@startuml
skinparam monochrome false
skinparam roundcorner 20
skinparam defaultFontName "Intel Clear"
skinparam defaultFontSize 20
skinparam maxmessagesize 400
skinparam sequenceArrowThickness 3

header "Intel Corporation"
footer "Proprietary and Confidential"
title "NGC OAM flows between OpenNESS Controller and NGC Core OAM Component"

actor "Admin" as user
box  "OpenNESS Controller" #LightGreen
participant "UI/CLI" as cnca 
end box
box  "NGC component" #LightBlue
participant "OAM"  as oam
note over oam
   OpenNESS provided component 
   with REST based HTTP interface 
   (for reference)
end note
participant "NGC \n CP Functions" as ngccp
end box

== AF services operations with NGC Core through OAM Component ==

group AF services deregistration with 5G Core
    user -> cnca : Deregister AF services from 5G Core (UI): \n {afId}
    activate cnca
    cnca -> oam : /ngcoam/v1/af/services/{afId}: DELETE
    activate oam
    oam -> oam : NGC_OAM_STUB()
    oam -> ngccp : {Open: 3rd Party NGC integration with OpenNESS(oam)} 
    ngccp --> oam : 
    oam --> cnca : OK \n ERROR: {400/500}
    deactivate oam
    cnca --> user : Success/Failure 
    deactivate cnca
end

group DNN(Edge) services deregistration with 5G Core
    user -> cnca : Deregister DNN with 5G Core from AF services (UI): \n {afId}
    activate cnca
    cnca -> oam : /ngcoam/v1/af/services/{afId}/dnn/{dnai}: DELETE
    activate oam
    oam -> oam : NGC_OAM_STUB()
    oam -> ngccp : {Open: 3rd Party NGC integration with OpenNESS(oam)} 
    ngccp --> oam : 
    oam --> cnca : OK \n ERROR: {400/500}
    deactivate oam
    cnca --> user : Success/Failure
    deactivate cnca
end

@enduml